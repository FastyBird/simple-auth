#
# DI configuration
#
# @license      More in LICENSE.md
# @copyright    https://www.fastybird.com
# @author       Adam Kadlec <adam.kadlec@fastybird.com>
# @package      FastyBird:SimpleAuth!
# @subpackage   config
# @since        0.1.0
#
# @date         16.07.20

php:
    date.timezone: Europe/Prague

extensions:
    nettrineAnnotations         : Nettrine\Annotations\DI\AnnotationsExtension
    nettrineCache               : Nettrine\Cache\DI\CacheExtension
    nettrineDbal                : Nettrine\DBAL\DI\DbalExtension
    nettrineOrm                 : Nettrine\ORM\DI\OrmExtension
    nettrineOrmAnnotations      : Nettrine\ORM\DI\OrmAnnotationsExtension
    nettrineOrmAttributes       : Nettrine\ORM\DI\OrmAttributesExtension
    nettrineOrmConsole          : Nettrine\ORM\DI\OrmConsoleExtension
    nettrineOrmCache            : Nettrine\ORM\DI\OrmCacheExtension
    ipubDoctrineCrud            : IPub\DoctrineCrud\DI\DoctrineCrudExtension
    ipubDoctrineConsistence     : IPub\DoctrineConsistence\DI\DoctrineConsistenceExtension
    ipubDynamicDiscriminatorMap : IPub\DoctrineDynamicDiscriminatorMap\DI\DoctrineDynamicDiscriminatorMapExtension
    fbDateTimeFactory           : FastyBird\DateTimeFactory\DI\DateTimeFactoryExtension

services:
    - {factory: Symfony\Component\Console\Application}

nettrineDbal:
    connection:
        host: 127.0.0.1
        driver: pdo_sqlite
        memory: true

        types:
            uuid_binary:
                class: Ramsey\Uuid\Doctrine\UuidBinaryType
                commented: false

        typesMapping:
            uuid_binary: binary

nettrineAnnotations:
    debug: %debugMode%

nettrineOrm:
    configuration:
        proxyDir: %tempDir%/cache/doctrine.proxies

nettrineOrmAnnotations:
    mapping: []

nettrineOrmAttributes:
    mapping: [
        Tests\Fixtures: %appDir%fixtures
    ]

fbSimpleAuth:
    token:
        issuer: fb_tester
    enable:
        middleware: true
        doctrine:
            mapping: true
            models: true
    services:
        identity: true
